<!-- contact.component.html -->
<section id="contact" class="py-16 bg-white">
  <div class="max-w-6xl mx-auto px-6 mt-20 shadow-md border-t rounded-sm p-10">
    <div class="flex flex-col md:flex-row items-start gap-12">

      <!-- Left side - Image -->
      <div class="order-2 lg:order-1 flex-3 hidden lg:block md:mt-6">
        <div class="aspect-[4/5] max-w-md mx-auto lg:mx-0">
          <img src="assets/contact-us-page-4.png" alt="Contact us" class="w-full h-full object-cover rounded-lg"
            loading="lazy" />
        </div>
      </div>

      <!-- Right side - Content -->
      <div class="order-1 lg:order-2 flex-1">

        <!-- Header -->
        <div class="mb-8 mt-3">
          <h1 class="text-5xl lg:text-6xl font-bold text-black mb-2">Contact Us</h1>
        </div>

        <!-- Contact Form Container -->
        <div class="border-t-2 border-l-2 border-neutral-700  p-8 mb-8">

          <!-- Success message -->
          <div *ngIf="submitSuccess" class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6 text-green-800"
            role="alert" aria-live="polite">
            âœ“ Message sent successfully!
          </div>

          <!-- Improved 2-column grid layout with better spacing and alignment -->
          <div class="grid md:grid-cols-2 gap-12 items-start">
            <!-- Form -->
            <div class="space-y-6">
              <form [formGroup]="contactForm" (ngSubmit)="submitToWhatsApp()" class="space-y-6" novalidate>

                <!-- Full Name -->
                <div class="relative">
                  <input formControlName="name" type="text" id="name" placeholder="Full Name"
                    class="w-full pb-3 text-lg bg-transparent border-0 border-b-2 border-black focus:outline-none focus:border-black placeholder-gray-600 transition-colors"
                    [class.border-red-500]="hasFieldError('name')"
                    [attr.aria-describedby]="hasFieldError('name') ? 'name-error' : null"
                    [attr.aria-invalid]="hasFieldError('name')" />
                  <div *ngIf="hasFieldError('name')" id="name-error" class="text-red-500 text-sm mt-1" role="alert">
                    {{ getFieldError('name') }}
                  </div>
                </div>

                <!-- Email -->
                <div class="relative">
                  <input formControlName="email" type="email" id="email" placeholder="E-mail"
                    class="w-full pb-3 text-lg bg-transparent border-0 border-b-2 border-black focus:outline-none focus:border-black placeholder-gray-600 transition-colors"
                    [class.border-red-500]="hasFieldError('email')"
                    [attr.aria-describedby]="hasFieldError('email') ? 'email-error' : null"
                    [attr.aria-invalid]="hasFieldError('email')" />
                  <div *ngIf="hasFieldError('email')" id="email-error" class="text-red-500 text-sm mt-1" role="alert">
                    {{ getFieldError('email') }}
                  </div>
                </div>

                <!-- Email -->
                <div class="relative">
                  <input formControlName="subject" type="text" id="subject" placeholder="Subject"
                    class="w-full pb-3 text-lg bg-transparent border-0 border-b-2 border-black focus:outline-none focus:border-black placeholder-gray-600 transition-colors"
                    [class.border-red-500]="hasFieldError('subject')"
                    [attr.aria-describedby]="hasFieldError('subject') ? 'subject-error' : null"
                    [attr.aria-invalid]="hasFieldError('subject')" />
                  <div *ngIf="hasFieldError('subject')" id="subject-error" class="text-red-500 text-sm mt-1" role="alert">
                    {{ getFieldError('subject') }}
                  </div>
                </div>
                <!-- Message -->
                <div class="relative">
                  <textarea formControlName="message" id="message" rows="4" placeholder="Message"
                    class="w-full pb-3 text-lg bg-transparent border-0 border-b-2 border-black focus:outline-none focus:border-black placeholder-gray-600 resize-none transition-colors"
                    [class.border-red-500]="hasFieldError('message')"
                    [attr.aria-describedby]="hasFieldError('message') ? 'message-error' : null"
                    [attr.aria-invalid]="hasFieldError('message')"></textarea>
                  <div *ngIf="hasFieldError('message')" id="message-error" class="text-red-500 text-sm mt-1"
                    role="alert">
                    {{ getFieldError('message') }}
                  </div>
                </div>

                <!-- Submit Button -->
                <button type="submit"
                  class="bg-black text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full"
                  [disabled]="contactForm.invalid || isSubmitting"
                  [attr.aria-label]="isSubmitting ? 'Sending message...' : 'Send contact message'">
                  <span *ngIf="!isSubmitting">Contact Us</span>
                  <span *ngIf="isSubmitting" class="flex items-center justify-center gap-2">
                    <svg class="w-5 h-5 animate-spin" viewBox="0 0 24 24">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none" opacity="0.25">
                      </circle>
                      <path fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                        opacity="0.75"></path>
                    </svg>
                    Sending...
                  </span>
                </button>
              </form>
            </div>

            <!-- Improved contact information section with better spacing and layout -->
            <!-- Contact Information -->
            <div class="space-y-8 flex flex-col justify-between h-full">
              <div class="space-y-6">
                <div>
                  <h3 class="text-xl font-bold text-black mb-2">Contact</h3>
                  <a [href]="mailHref()" class="text-gray-600 hover:text-black transition-colors cursor-pointer text-lg"
                    (click)="copy(contactEmail, 'email')">
                    {{ contactEmail }}
                    <span *ngIf="copiedEmail" class="text-green-600 ml-2">Copied!</span>
                  </a>
                </div>

                <div>
                  <h3 class="text-xl font-bold text-black mb-2">Based in</h3>
                  <p class="text-gray-600 text-lg">{{ basedIn }}</p>
                </div>
              </div>

              <!-- Social Media Icons -->
              <div class="flex gap-6 flex-end pb-3">
                <!-- Facebook -->
                <a href="#" class="text-black hover:text-gray-600 transition-colors" aria-label="Facebook">
                  <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                    <path
                      d="M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.406.593 24 1.325 24h11.495v-9.294H9.691v-3.622h3.129V8.413c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.466.099 2.797.143v3.244h-1.92c-1.505 0-1.796.715-1.796 1.764v2.314h3.59l-.467 3.622h-3.123V24h6.116C23.407 24 24 23.406 24 22.676V1.325C24 .593 23.407 0 22.675 0z" />
                  </svg>
                </a>
                <!-- Instagram -->
                <a href="#" class="text-black hover:text-gray-600 transition-colors" aria-label="Instagram">
                  <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                    <path
                      d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                  </svg>
                </a>
                <!-- TikTok -->
                <a href="#" class="text-black hover:text-gray-600 transition-colors" aria-label="TikTok">
                  <svg class="w-7 h-7" fill="currentColor" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48">
                    <path
                      d="M41,16.1c-3.2,0-6.2-1-8.7-2.8V30c0,8.9-7.3,16-16.2,16c-3.4,0-6.6-1-9.2-2.9c-2.6-1.9-4.5-4.6-5.5-7.7c-1-3.1-.9-6.4.2-9.4c1.1-3,3.2-5.6,5.9-7.3c2.7-1.7,5.9-2.6,9.1-2.3V22c-2.1-.2-4.2.4-6,1.6c-1.8,1.2-3.1,3-3.7,5.1c-.6,2.1-.5,4.3.3,6.3c.8,2,2.2,3.6,4,4.7c1.8,1.1,3.9,1.6,6,1.4c2.1-.2,4.1-1.2,5.6-2.7c1.5-1.5,2.3-3.6,2.3-5.7V0h6c.2,2.9,1.6,5.7,3.8,7.7c2.2,2,5,3.2,8,3.3V16.1z" />
                  </svg>
                </a>

                <!-- WhatsApp -->
                <!-- <a href="#" class="text-black hover:text-gray-600 transition-colors" aria-label="WhatsApp">
                  <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 32 32">
                    <path
                      d="M16 .667C7.64.667.667 7.64.667 16c0 2.819.739 5.571 2.144 7.988L.667 31.333l7.507-2.094A15.2 15.2 0 0 0 16 31.333C24.36 31.333 31.333 24.36 31.333 16S24.36.667 16 .667zm0 28c-2.448 0-4.821-.64-6.901-1.854l-.494-.288-4.453 1.242 1.202-4.585-.322-.472A11.95 11.95 0 0 1 4 16c0-6.629 5.372-12 12-12s12 5.371 12 12-5.372 12-12 12zm6.586-8.94c-.362-.181-2.139-1.054-2.471-1.174-.332-.121-.574-.181-.815.181s-.939 1.174-1.152 1.414c-.211.242-.422.272-.784.091-.362-.182-1.528-.563-2.91-1.794-1.075-.96-1.798-2.147-2.009-2.51-.211-.362-.022-.558.159-.74.163-.163.362-.422.543-.634.182-.211.242-.362.362-.604.121-.242.06-.454-.03-.635-.091-.181-.815-1.963-1.115-2.694-.294-.704-.593-.608-.815-.62l-.694-.012c-.242 0-.635.09-.967.454-.332.362-1.27 1.24-1.27 3.017 0 1.776 1.301 3.493 1.483 3.736.181.242 2.561 3.909 6.205 5.487.868.374 1.545.597 2.072.765.871.277 1.665.237 2.292.144.698-.104 2.139-.873 2.441-1.715.302-.842.302-1.562.211-1.715-.09-.151-.332-.242-.694-.423z" />
                  </svg>
                </a> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>