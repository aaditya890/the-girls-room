<section class="pb-12 pt-24 px-4 relative overflow-hidden">
  <div class="max-w-7xl mx-auto">
    <!-- Compact Header -->
    <div class="text-center mb-8">
      <h2 class="text-5xl sm:text-3xl font-bold text-gray-900 mb-2">Professional Certifications</h2>
      <p class="text-gray-600 max-w-xl mx-auto">Certified expertise in advanced aesthetic treatments</p>
    </div>

    <!-- Unique 5-Certificate Layout -->
    <div class="relative flex items-center justify-center min-h-[400px] bg-gray-50 rounded-sm p-10">

      <!-- Left Side - 2 Certificates -->
      <div class="hidden lg:flex flex-col space-y-4 mr-8">
        <div *ngFor="let cert of getLeftCertificates(); let i = index"
          class="relative border-2 rounded-sm group cursor-pointer transform transition-all duration-500 hover:scale-105"
          (click)="focusOnCertificate(cert.originalIndex)">
          <div
            class="w-32 h-40 rounded-lg overflow-hidden shadow-lg border-2 border-white hover:border-blue-300 transition-all duration-300">
            <img [src]="cert.image" [alt]="cert.title"
              class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity duration-300">
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          </div>
          <div
            class="absolute bottom-2 left-2 right-2 text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            {{ cert.title }}
          </div>
        </div>
      </div>

      <!-- Center - Main Certificate with Smooth Transitions -->
      <div class="relative mx-4 lg:mx-8">
        <div
          class="w-96 h-[540px] sm:w-[400px] sm:h-[550px] relative overflow-hidden shadow-2xl border-4 rounded-md">
          <!-- Certificate Images with Crossfade -->
          <div class="relative w-full h-full">
            <div *ngFor="let certificate of certificates; let i = index"
              class="absolute inset-0 transition-opacity duration-1000 ease-in-out"
              [class.opacity-100]="i === currentSlide" [class.opacity-0]="i !== currentSlide">
              <img [src]="certificate.image" [alt]="certificate.title" class="w-full h-full object-cover">
            </div>
          </div>

          <!-- Elegant Overlay -->
          <!-- <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"></div> -->
        </div>

        <!-- Floating Navigation Buttons -->
        <button (click)="previousSlide()"
          class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center hover:bg-white hover:scale-110 transition-all duration-200 group">
          <svg class="w-5 h-5 text-gray-600 group-hover:text-gray-900" fill="none" stroke="currentColor"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>

        <button (click)="nextSlide()"
          class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center hover:bg-white hover:scale-110 transition-all duration-200 group">
          <svg class="w-5 h-5 text-gray-600 group-hover:text-gray-900" fill="none" stroke="currentColor"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>

      <!-- Right Side - 2 Certificates -->
      <div class="hidden lg:flex flex-col space-y-4 ml-8">
        <div *ngFor="let cert of getRightCertificates(); let i = index"
          class="relative border-2 rounded-sm group cursor-pointer transform transition-all duration-500 hover:scale-105"
          (click)="focusOnCertificate(cert.originalIndex)">
          <div
            class="w-32 h-40 rounded-lg overflow-hidden shadow-lg border-2 border-white hover:border-purple-300 transition-all duration-300">
            <img [src]="cert.image" [alt]="cert.title"
              class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity duration-300">
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          </div>
          <div
            class="absolute bottom-2 left-2 right-2 text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            {{ cert.title }}
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Thumbnail Navigation -->
    <div class="hidden mt-6">
      <div class="flex justify-center space-x-3 overflow-x-auto pb-3">
        <button *ngFor="let certificate of certificates; let i = index" (click)="goToSlide(i)" [class]="currentSlide === i 
        ? 'ring-4 ring-pink-500 ring-offset-2 scale-110 shadow-xl' 
        : 'opacity-70 hover:opacity-100 hover:scale-105'"
          class="flex-shrink-0 transition-all duration-300 ease-out rounded-xl">
          <img [src]="certificate.image" [alt]="certificate.title"
            class="w-20 h-24 object-cover rounded-xl shadow-lg hover:shadow-pink-200">
        </button>
      </div>
    </div>

    <!-- Modern Controls -->
    <div class="flex justify-center items-center mt-6 mb-5 space-x-5">
      <button (click)="toggleAutoPlay()"
        class="px-3 py-2 rounded-full bg-black text-white text-sm font-medium transition-all duration-300 hover:scale-110 flex items-center space-x-2">

        <!-- Play Icon -->
        <svg *ngIf="!isAutoPlaying" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M19 10a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>

        <!-- Pause Icon -->
        <svg *ngIf="isAutoPlaying" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>

        <span class="font-semibold tracking-wide">
          {{ isAutoPlaying ? 'Pause' : 'Play' }}
        </span>
      </button>

      <!-- Timer Display -->
      <div class="text-xs text-gray-500 flex items-center space-x-1"> <svg class="w-3 h-3" fill="none"
          stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg> <span>{{ autoSlideInterval / 1000 }}s</span> </div>
    </div>

    <!-- </section> -->

    <!-- After Treatment Care: Auto-Scrolling Cards -->
    <section class="bg-gray-50 py-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-7xl mx-auto">
        <!-- Heading -->
        <div class="text-left mb-10">
          <h2 class="text-3xl md:text-4xl font-light text-neutral-800 mb-2">
            After <span class="text-red-500">Care</span>
          </h2>
          <p class="text-neutral-600 max-w-2xl">
            Comprehensive aftercare to maximize your treatment results and ensure optimal healing
          </p>
        </div>

        <!-- AUTO-SCROLL ROW (marquee) -->
        <div class="group relative overflow-hidden rounded-2xl py-2">
          <div class="marquee flex items-stretch">
            <!-- 2x list to make a seamless loop -->
            <ng-container *ngFor="let _ of [0,1]; let pass = index">
              @for (item of aftercareData; track item.url) {
              <!-- CARD -->
              <article
                class="mx-4 w-72 sm:w-80 shrink-0 rounded-2xl bg-white ring-1 ring-neutral-200/70 shadow-sm hover:ring-neutral-300 transition-all duration-300">

                <!-- Title -->
                <div class="h-12 px-5 flex items-center justify-center text-center">
                  <h3 class="text-[15px] font-semibold text-neutral-800 line-clamp-1 w-full">
                    {{ item.title }}
                  </h3>
                </div>

                <!-- Image (consistent aspect, centered) -->
                <div class="px-5">
                  <div
                    class="relative aspect-[4/3] rounded-xl bg-neutral-50 ring-1 ring-neutral-200 overflow-hidden flex items-center justify-center">
                    <!-- Want full image, no crop? change to object-contain -->
                    <img [src]="item.url" [alt]="item.title" class="w-full h-full object-cover rounded-xl" />
                    <div class="pointer-events-none absolute inset-0 shadow-[inset_0_1px_0_rgba(255,255,255,0.5)]">
                    </div>
                  </div>
                </div>

                <!-- Subtitle -->
                <div class="h-14 px-6 pb-5 pt-3 flex items-center justify-center">
                  <p class="text-sm text-neutral-600 text-center leading-relaxed line-clamp-2">
                    {{ item.subtitle }}
                  </p>
                </div>
              </article>
              }
            </ng-container>
          </div>
        </div>
      </div>
    </section>

    <app-review-testimonial></app-review-testimonial>
    <app-contact-us></app-contact-us>